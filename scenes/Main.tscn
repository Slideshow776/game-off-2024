[gd_scene load_steps=17 format=3 uid="uid://ci0unrji7vi3w"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_8pbs6"]
[ext_resource type="Script" path="res://scripts/character.gd" id="1_feuee"]
[ext_resource type="Texture2D" uid="uid://cntwheij8fvq3" path="res://assets/images/thief.png" id="1_tb46g"]
[ext_resource type="Script" path="res://scripts/game_controller.gd" id="2_lcj48"]
[ext_resource type="Texture2D" uid="uid://ltjls1rswnvw" path="res://assets/images/muffin_man.png" id="2_n72km"]
[ext_resource type="Resource" uid="uid://dgwxaf1naxwdx" path="res://card_data/attack_card.tres" id="2_xbw3r"]
[ext_resource type="Theme" uid="uid://c8r8cjb1at4wg" path="res://assets/main_theme.tres" id="2_y60n5"]
[ext_resource type="PackedScene" uid="uid://bqim5c7s6n81g" path="res://scenes/ui/DeckViewWindow.tscn" id="3_4v5wd"]
[ext_resource type="Resource" uid="uid://bs3yu15jrsqc4" path="res://card_data/defend_card.tres" id="3_x8w5h"]
[ext_resource type="PackedScene" uid="uid://cbkph8q1bp178" path="res://scenes/cards/PlayableCard.tscn" id="4_xxjt2"]
[ext_resource type="Texture2D" uid="uid://borofa6wbn8jx" path="res://assets/images/card/image2.png" id="5_fi3wd"]
[ext_resource type="PackedScene" uid="uid://drbayobfjnntg" path="res://scenes/Hand.tscn" id="10_4fja5"]
[ext_resource type="PackedScene" uid="uid://bkfg2v0yelnsp" path="res://scenes/ui/PlayableDeckUI.tscn" id="10_w05ha"]
[ext_resource type="Texture2D" uid="uid://bybc3ktbng41a" path="res://assets/images/card/card_back_normal.png" id="16_6e2ll"]
[ext_resource type="Texture2D" uid="uid://cm71df8g7yolu" path="res://assets/images/card/card_back_pressed.png" id="17_oweln"]
[ext_resource type="Texture2D" uid="uid://cvtoci2mpevmq" path="res://assets/images/card/card_back_hover.png" id="18_vfux0"]

[node name="Main" type="Node2D" node_paths=PackedStringArray("player_character")]
script = ExtResource("1_8pbs6")
player_character = NodePath("GameScreen/PlayerCharacter")
attack_card_data = ExtResource("2_xbw3r")
defend_card_data = ExtResource("3_x8w5h")
playable_card_scene = ExtResource("4_xxjt2")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameOverColorRect" type="ColorRect" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.25, 0.1225, 0.1905, 0.784314)

[node name="Label" type="Label" parent="CanvasLayer/GameOverColorRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -159.5
offset_top = -37.0
offset_right = 159.5
offset_bottom = 37.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("2_y60n5")
text = "Game Over!
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="GameWonColorRect" type="ColorRect" parent="CanvasLayer"]
unique_name_in_owner = true
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0987, 0.185885, 0.21, 0.784314)

[node name="Label" type="Label" parent="CanvasLayer/GameWonColorRect"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -45.0
offset_top = -11.5
offset_right = 45.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("2_y60n5")
text = "Game Won!
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="DeckViewWindow" parent="CanvasLayer" instance=ExtResource("3_4v5wd")]
unique_name_in_owner = true

[node name="GameController" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("2_lcj48")

[node name="ManaAmount" type="Label" parent="."]
unique_name_in_owner = true
offset_left = 251.0
offset_top = 396.0
offset_right = 322.0
offset_bottom = 419.0
text = "Mana: 10"

[node name="GameScreen" type="Node2D" parent="."]

[node name="PlayerCharacter" type="Node2D" parent="GameScreen"]
unique_name_in_owner = true
position = Vector2(410, 279)
script = ExtResource("1_feuee")
max_health = 10
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="GameScreen/PlayerCharacter"]
position = Vector2(-2, 27)
texture = ExtResource("1_tb46g")

[node name="HealthBar" type="ProgressBar" parent="GameScreen/PlayerCharacter"]
offset_left = -62.0
offset_top = -72.0
offset_right = 67.0
offset_bottom = -45.0
theme = ExtResource("2_y60n5")
max_value = 10.0
value = 10.0
show_percentage = false

[node name="Defense" type="Sprite2D" parent="GameScreen/PlayerCharacter"]
visible = false
position = Vector2(-47, -85)
scale = Vector2(0.155844, 0.155844)
texture = ExtResource("5_fi3wd")

[node name="Label" type="Label" parent="GameScreen/PlayerCharacter/Defense"]
offset_left = 89.8334
offset_top = -70.5834
offset_right = 153.833
offset_bottom = 77.4166
theme = ExtResource("2_y60n5")
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="EnemyCharacter" type="Node2D" parent="GameScreen"]
unique_name_in_owner = true
position = Vector2(773, 254)
script = ExtResource("1_feuee")
max_health = 10
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="GameScreen/EnemyCharacter"]
position = Vector2(3, 32)
scale = Vector2(0.517778, 0.517778)
texture = ExtResource("2_n72km")

[node name="HealthBar" type="ProgressBar" parent="GameScreen/EnemyCharacter"]
offset_left = -62.0
offset_top = -87.0
offset_right = 67.0
offset_bottom = -60.0
theme = ExtResource("2_y60n5")
max_value = 10.0
value = 10.0
show_percentage = false

[node name="Defense" type="Sprite2D" parent="GameScreen/EnemyCharacter"]
visible = false
position = Vector2(-48, -100)
scale = Vector2(0.155844, 0.155844)
texture = ExtResource("5_fi3wd")

[node name="Label" type="Label" parent="GameScreen/EnemyCharacter/Defense"]
offset_left = 89.8334
offset_top = -70.5834
offset_right = 153.833
offset_bottom = 77.4166
theme = ExtResource("2_y60n5")
text = "0"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Hand" parent="." instance=ExtResource("10_4fja5")]
unique_name_in_owner = true
position = Vector2(576, 1629)
card_angle = -91.115
angle_limit = 30.0
max_card_spread_angle = 10.0

[node name="EndTurnButton" type="Button" parent="."]
unique_name_in_owner = true
offset_left = 932.0
offset_top = 439.0
offset_right = 1088.0
offset_bottom = 501.0
text = "End Turn"

[node name="DeckTextureButton" type="TextureButton" parent="."]
unique_name_in_owner = true
offset_left = 1028.0
offset_top = 6.0
offset_right = 1078.0
offset_bottom = 79.0
texture_normal = ExtResource("16_6e2ll")
texture_pressed = ExtResource("17_oweln")
texture_hover = ExtResource("18_vfux0")
ignore_texture_size = true
stretch_mode = 4

[node name="DrawPile" parent="." instance=ExtResource("10_w05ha")]
unique_name_in_owner = true
offset_left = 41.0
offset_top = 569.0
offset_right = 132.0
offset_bottom = 634.0
pivot_offset = Vector2(0, 1)

[node name="DiscardPile" parent="." instance=ExtResource("10_w05ha")]
unique_name_in_owner = true
offset_left = 1029.0
offset_top = 561.0
offset_right = 1120.0
offset_bottom = 626.0
flip_h = true
